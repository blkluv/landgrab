<h1><%= admin_title @post %></h1>

<table class="table">
  <tbody>
    <tr>
      <th>Title</th>
      <td><%= @post.title %></td>
    </tr>

    <tr>
      <th>Body</th>
      <td><%= markdown(@post.body) %></td>
    </tr>

    <tr>
      <th>Author</th>
      <td><%= link_to @post.author.display_name, admin_user_path(@post.author) %></td>
    </tr>

    <tr>
      <th>Created</th>
      <td>
        <%= @post.created_at.strftime('%e %b %Y %H:%M:%S') %>
      </td>
    </tr>
  </tbody>
</table>

<p>
  <%= link_to 'Edit post', edit_admin_post_path(@post) %>
</p>

<h2 class="mt-3">
  Post Associations
</h2>
<% if @post.post_associations.none? %>
  <p>This post isn't linked to any records yet.</p>
<% else %>
  <p>The post is linked to the following records:</p>
  <ul>
    <% @post.post_associations.each do |pa| %>
      <li>
        <% case pa.postable_type %>
        <% when 'Project' %>
          <%= link_to "Project: #{pa.postable.title}", admin_project_path(pa.postable) %>
        <% else %>
          <% raise "Unhandled post association type: #{pa.postable_type}" %>
        <% end %>
      </li>
    <% end %>
  </ul>
<% end %>
